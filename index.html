<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Dojo de Kana - Ninja Way</title>
    <link href="https://fonts.googleapis.com/css2?family=Klee+One:wght@600&family=Oswald:wght@500;700&family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <header class="ninja-header">
        <div class="header-inner">
            <div class="brand">
                <span class="symbol">Â∑ª</span>
                <h1>DOJO DE KANA <span class="jp">| „Åã„Å™ÈÅìÂ†¥</span></h1>
            </div>
        </div>
    </header>

    <main class="main-content">
        
        <div id="main-menu" class="ninja-panel fade-in">
            <div class="panel-title">
                <h2>SELECCIONA TU CAMINO</h2>
            </div>
            
            <div class="mode-selector">
                <div class="mode-card primary" onclick="Navigation.goToCampaign()">
                    <div class="card-icon">üìú</div>
                    <h3>CAMINO DEL NINJA</h3>
                    <p>Modo Historia por Niveles</p>
                </div>

                <div class="mode-card secondary" onclick="Navigation.goToFreeMode()">
                    <div class="card-icon">‚öîÔ∏è</div>
                    <h3>PR√ÅCTICA LIBRE</h3>
                    <p>Configura tu entrenamiento</p>
                </div>
            </div>
        </div>

        <div id="campaign-screen" class="ninja-panel fade-in" style="display:none;">
            <div class="panel-header-row">
                <button class="btn-text-sharp" onclick="Navigation.goHome()">‚óÄ VOLVER</button>
                <h2>MAPA DE MISIONES</h2>
            </div>
            
            <div class="scroll-container">
                <div id="mission-path" class="mission-path">
                    </div>
            </div>
        </div>
        
        <div id="setup-screen" class="ninja-panel fade-in" style="display:none;">
            <div class="panel-header-row">
                <button class="btn-text-sharp" onclick="Navigation.goHome()">‚óÄ VOLVER</button>
                <h2>ENTRENAMIENTO LIBRE</h2>
            </div>

            <div class="toggle-group-sharp">
                <button class="toggle-btn active" id="btn-hira" onclick="Game.setMode('hiragana')">HIRAGANA</button>
                <button class="toggle-btn" id="btn-kata" onclick="Game.setMode('katakana')">KATAKANA</button>
            </div>

            <div class="checkbox-grid" id="rows-container">
                <label class="checkbox-item"><input type="checkbox" value="row-a" checked> VOCALES</label>
                <label class="checkbox-item"><input type="checkbox" value="row-k" checked> K-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-s"> S-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-t"> T-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-n"> N-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-h"> H-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-m"> M-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-y"> Y-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-r"> R-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-w"> W/N</label>
                <label class="checkbox-item"><input type="checkbox" value="dakuten"> DAKUTEN</label>
            </div>

            <div class="section-divider"><span>02</span> PAR√ÅMETROS</div>
            <div class="options-list">
                <div class="option-row">
                    <div class="opt-label">MODO ENTRENAMIENTO <span class="sub">Gu√≠a de Trazado</span></div>
                    <label class="ninja-switch"><input type="checkbox" id="trace-mode-toggle"><span class="slider"></span></label>
                </div>
                <div class="option-row">
                    <div class="opt-label">MODO CONTRARELOJ <span class="sub">L√≠mite de Tiempo</span></div>
                    <label class="ninja-switch"><input type="checkbox" id="time-mode-toggle"><span class="slider"></span></label>
                </div>
                <div class="option-row">
                    <div class="opt-label">PIZARRA DIGITAL <span class="sub">Escritura en Pantalla</span></div>
                    <label class="ninja-switch"><input type="checkbox" id="canvas-mode-toggle" checked><span class="slider"></span></label>
                </div>
                <div class="option-row">
                    <div class="opt-label">AUDIO <span class="sub">Pronunciaci√≥n</span></div>
                    <label class="ninja-switch"><input type="checkbox" id="audio-mode-toggle" checked><span class="slider"></span></label>
                </div>
            </div>

            <div class="action-footer">
                <button class="btn-ninja primary large" id="btn-start">INICIAR MISI√ìN</button>
            </div>
        </div>

        <div id="practice-screen" class="ninja-panel fade-in" style="display:none;">
            <div class="mission-header">
                <button class="btn-text-sharp" onclick="Game.exit()">SALIR</button>
                <span id="mission-title">ENTRENAMIENTO</span>
            </div>

            <div class="timer-wrapper" id="timer-container"><div class="timer-bar" id="timer-bar"></div></div>

            <div class="battle-header">
                <div id="phase-badge" class="rank-badge">RANGO: GENIN</div>
                <div id="timer-badge" class="time-badge">15s</div>
            </div>

            <div class="romaji-box">
                <div class="romaji-text" id="romaji-display">KA</div>
                <button id="manual-audio-btn" class="audio-trigger" style="display:none;" onclick="Game.playCurrentAudio()">üîä</button>
            </div>

            <div class="instruction-line" id="instruction-text">ESCRIBE EL CAR√ÅCTER</div>

            <div class="tools-bar" id="canvas-toolbar">
                <button class="btn-text-sharp" onclick="CanvasManager.clear()">LIMPIAR</button>
                <div class="score-box">
                    <span id="counter" class="current-score">SCORE: 0</span>
                </div>
            </div>
            
            <div id="score-only" class="score-box center" style="display:none; justify-content:center;">
                <span id="counter-alt" class="current-score">SCORE: 0</span>
            </div>

            <div class="scroll-workspace" id="workspace">
                <canvas id="writeCanvas"></canvas>
                <div id="svg-container"></div>
                <div class="corner tl"></div><div class="corner tr"></div>
                <div class="corner bl"></div><div class="corner br"></div>
            </div>

            <div class="action-bar" id="default-actions">
                <button class="btn-ninja primary flex" id="action-btn" onclick="Game.handleAction()">REVELAR JUTSU</button>
            </div>

            <div class="action-bar" id="evaluation-actions" style="display:none;">
                <button class="btn-ninja danger outline" onclick="Game.markResult(false)">FALLO</button>
                <button class="btn-ninja secondary outline icon" onclick="Game.replayAnimation()">‚Ü∫</button>
                <button class="btn-ninja success flex" onclick="Game.markResult(true)">√âXITO</button>
            </div>
        </div>

    </main>

    <div id="level-complete-modal" style="display:none;">
        <div class="modal-backdrop">
            <div class="modal-content">
                <h2>¬°MISI√ìN CUMPLIDA!</h2>
                <p>Has desbloqueado el siguiente nivel.</p>
                <div class="stamp">ÂêàÊ†º</div> <button class="btn-ninja primary" onclick="Campaign.completeLevelAndExit()">CONTINUAR</button>
            </div>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
