<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dojo de Kana - Ninja Way</title>
    <!-- Fuentes de acci√≥n y japonesas -->
    <link href="https://fonts.googleapis.com/css2?family=Klee+One:wght@600&family=Oswald:wght@500;700&family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <header class="ninja-header">
        <div class="header-inner">
            <div class="brand">
                <span class="symbol">Â∑ª</span>
                <h1>DOJO DE KANA <span class="jp">| „Åã„Å™ÈÅìÂ†¥</span></h1>
            </div>
            <div class="decoration-line"></div>
        </div>
    </header>

    <main class="main-content">
        
        <!-- SETUP SCREEN -->
        <div id="setup-screen" class="ninja-panel">
            <div class="panel-title">
                <h2>CONFIGURACI√ìN DE MISI√ìN</h2>
            </div>

            <div class="toggle-group-sharp">
                <button class="toggle-btn active" id="btn-hira" onclick="Game.setMode('hiragana')">HIRAGANA</button>
                <button class="toggle-btn" id="btn-kata" onclick="Game.setMode('katakana')">KATAKANA</button>
            </div>

            <div class="section-divider"><span>01</span> SELECCI√ìN DE OBJETIVOS</div>
            
            <div class="checkbox-grid" id="rows-container">
                <label class="checkbox-item"><input type="checkbox" value="row-a" checked> VOCALES</label>
                <label class="checkbox-item"><input type="checkbox" value="row-k" checked> K-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-s"> S-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-t"> T-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-n"> N-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-h"> H-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-m"> M-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-y"> Y-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-r"> R-ROW</label>
                <label class="checkbox-item"><input type="checkbox" value="row-w"> W/N</label>
                <label class="checkbox-item"><input type="checkbox" value="dakuten"> DAKUTEN</label>
            </div>

            <div class="section-divider"><span>02</span> PAR√ÅMETROS DE MISI√ìN</div>
            
            <div class="options-list">
                <!-- Trace Mode -->
                <div class="option-row">
                    <div class="opt-label">MODO ENTRENAMIENTO <span class="sub">Gu√≠a de Trazado</span></div>
                    <label class="ninja-switch">
                        <input type="checkbox" id="trace-mode-toggle">
                        <span class="slider"></span>
                    </label>
                </div>

                <!-- Time Mode -->
                <div class="option-row">
                    <div class="opt-label">MODO CONTRARELOJ <span class="sub">L√≠mite de Tiempo</span></div>
                    <label class="ninja-switch">
                        <input type="checkbox" id="time-mode-toggle">
                        <span class="slider"></span>
                    </label>
                </div>

                <!-- Canvas Mode -->
                <div class="option-row">
                    <div class="opt-label">PIZARRA DIGITAL <span class="sub">Escritura en Pantalla</span></div>
                    <label class="ninja-switch">
                        <input type="checkbox" id="canvas-mode-toggle" checked>
                        <span class="slider"></span>
                    </label>
                </div>

                <!-- Audio Mode -->
                <div class="option-row">
                    <div class="opt-label">SISTEMA DE AUDIO <span class="sub">Pronunciaci√≥n</span></div>
                    <label class="ninja-switch">
                        <input type="checkbox" id="audio-mode-toggle" checked>
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <div class="action-footer">
                <button class="btn-ninja primary large" id="btn-start">INICIAR MISI√ìN</button>
                <button class="btn-ninja secondary" onclick="generatePrintSheet()">IMPRIMIR REPORTE</button>
            </div>
        </div>

        <!-- PRACTICE SCREEN -->
        <div id="practice-screen" class="ninja-panel" style="display:none;">
            
            <div class="timer-wrapper" id="timer-container">
                <div class="timer-bar" id="timer-bar"></div>
            </div>

            <div class="battle-header">
                <div id="phase-badge" class="rank-badge">RANGO: GENIN</div>
                <div id="timer-badge" class="time-badge">15s</div>
            </div>

            <div class="romaji-box">
                <div class="romaji-text" id="romaji-display">KA</div>
                <button id="manual-audio-btn" class="audio-trigger" style="display:none;" onclick="Game.playCurrentAudio()">üîä</button>
            </div>

            <div class="instruction-line" id="instruction-text">ESCRIBE EL CAR√ÅCTER</div>

            <div class="tools-bar" id="canvas-toolbar">
                <button class="btn-text-sharp" onclick="CanvasManager.clear()">LIMPIAR</button>
                <div class="score-box">
                    <span id="counter" class="current-score">SCORE: 0</span>
                    <span id="high-score-display" class="best-score">BEST: 0</span>
                </div>
            </div>
            
            <div id="score-only" class="score-box center" style="display:none;">
                <span id="counter-alt">SCORE: 0</span>
            </div>

            <div class="scroll-workspace" id="workspace">
                <canvas id="writeCanvas" width="360" height="180"></canvas>
                <div id="svg-container"></div>
                <!-- Elementos decorativos estilo esquina -->
                <div class="corner tl"></div><div class="corner tr"></div>
                <div class="corner bl"></div><div class="corner br"></div>
            </div>

            <!-- ACTION BUTTONS -->
            <div class="action-bar" id="default-actions">
                <button class="btn-ninja secondary" onclick="Game.exit()">RETIRADA</button>
                <button class="btn-ninja primary flex" id="action-btn" onclick="Game.handleAction()">REVELAR JUTSU</button>
            </div>

            <div class="action-bar" id="evaluation-actions" style="display:none;">
                <button class="btn-ninja danger outline" onclick="Game.markResult(false)">FALLO</button>
                <button class="btn-ninja secondary outline icon" onclick="Game.replayAnimation()">‚Ü∫</button>
                <button class="btn-ninja success flex" onclick="Game.markResult(true)">√âXITO</button>
            </div>
        </div>

    </main>

    <!-- PRINT CONTAINER -->
    <div id="print-container">
        <h2 class="print-title">Hoja de Pr√°ctica</h2>
        <div id="print-content"></div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
